# å›¾è¡¨ç”Ÿæˆ
ğŸ“¢ æç¤ºï¼šå›¾è¡¨ç”ŸæˆåŠŸèƒ½ç›®å‰æ”¯æŒOpenAI GPT-3.5ï¼ŒGPT-4 ç³»åˆ—æ¨¡å‹å’Œç«å±±å¼•æ“[äº‘é›€ï¼ˆskylark-proï¼‰](https://www.volcengine.com/product/yunque)ç³»åˆ—æ¨¡å‹ã€‚æˆ‘ä»¬å°†ä¸æ–­æ‰©å¤§æ”¯æŒçš„æ¨¡å‹èŒƒå›´ï¼Œå¦‚æœä½ æœ‰ä»»ä½•éœ€æ±‚ï¼Œæ¬¢è¿åœ¨æˆ‘ä»¬çš„[Githubé¡µé¢](https://github.com/VisActor/VMind/issues/new/choose)æå‡ºã€‚

æœ¬æ•™ç¨‹å°†å‘ä½ è¯¦ç»†ä»‹ç»VMindä¸­çš„å›¾è¡¨æ™ºèƒ½ç”ŸæˆåŠŸèƒ½ï¼Œå¹¶æä¾›ä¸€äº›ç¤ºä¾‹ã€‚

ç”Ÿæˆå›¾è¡¨çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä½ å¯ä»¥åœ¨PowerBIã€Tableauç­‰ä¸“ä¸šçš„BIå¯è§†åŒ–å·¥å…·ä¸­ï¼Œåˆ©ç”¨æ•°æ®é›†çš„å­—æ®µæ¥åˆ¶ä½œå¯è§†åŒ–å›¾è¡¨ï¼›æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨VChartã€EChartsã€MatPlotlibç­‰å›¾è¡¨åº“ï¼Œé€šè¿‡ç¼–å†™ä»£ç æ¥ç»˜åˆ¶å›¾è¡¨ã€‚æ­¤å¤–ï¼ŒVChartã€Echartsç­‰å›¾è¡¨åº“è¿˜æä¾›äº†ç®€å•æ˜“ç”¨çš„å›¾è¡¨ç¼–è¾‘å™¨ï¼Œç”¨æˆ·å¯ä»¥ä¸Šä¼ æ•°æ®å¹¶è¿›è¡Œå›¾è¡¨åˆ¶ä½œã€‚

ç„¶è€Œï¼Œä¼ ç»Ÿçš„å›¾è¡¨ç”Ÿæˆæ–¹å¼ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼š

- å¯¹äºç¼–ç¨‹æ–°æ‰‹æ¥è¯´ï¼Œä»–ä»¬å¯èƒ½ä¸ä¼šç¼–å†™ä»£ç ï¼Œä¹Ÿå°±æ— æ³•ä½¿ç”¨å›¾è¡¨åº“æ¥ç”Ÿæˆå›¾è¡¨ã€‚
- å›¾è¡¨ç±»å‹ç¹å¤šï¼Œç”¨æˆ·å±•ç¤ºæ•°æ®çš„ç›®çš„å„ä¸ç›¸åŒï¼Œè¿™å°±å¯¼è‡´äº†é€‚åˆå±•ç¤ºçš„å›¾è¡¨ç±»å‹å’Œå¯¹åº”çš„å­—æ®µæ˜ å°„ä¹Ÿä¼šæœ‰æ‰€ä¸åŒã€‚å¯¹äºéä¸“ä¸šç”¨æˆ·æ¥è¯´ï¼Œä»–ä»¬å¯èƒ½æ— æ³•å‡†ç¡®åœ°é€‰æ‹©å‡ºæœ€èƒ½è¡¨è¾¾è‡ªå·±è§‚ç‚¹çš„å›¾è¡¨ç±»å‹ã€‚
![](https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/vmind/tutorials/VMind_chart_generation.png)
- ç”¨æˆ·å¯¹äºå›¾è¡¨æ ·å¼ã€åŠ¨ç”»çš„éœ€æ±‚å„ä¸ç›¸åŒï¼Œå¾€å¾€éœ€è¦ä¸€å®šçš„è®¾è®¡èƒ½åŠ›æ‰èƒ½æ»¡è¶³ã€‚è®¾è®¡å‡ºä»¤äººçœ¼å‰ä¸€äº®çš„å›¾è¡¨å¹¶ä¸å®¹æ˜“ï¼Œå®ƒéœ€è¦è®¾è®¡æŠ€èƒ½å’Œå®¡ç¾æ„è¯†ï¼Œè€Œè¿™äº›æ˜¯è®¸å¤šç”¨æˆ·æ‰€ç¼ºä¹çš„ã€‚

è¿™äº›é—®é¢˜å¢åŠ äº†æ•°æ®å¯è§†åŒ–çš„åˆ›ä½œé—¨æ§›ï¼Œé˜»ç¢äº†éä¸“ä¸šç”¨æˆ·åˆ›ä½œç¬¦åˆè‡ªå·±æ„å›¾çš„å¯è§†åŒ–ä½œå“ã€‚

VMindçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹çš„è‡ªç„¶è¯­è¨€ç†è§£èƒ½åŠ›å’Œå…¬åŸŸçŸ¥è¯†ï¼Œæ ¹æ®ç”¨æˆ·çš„æ•°æ®å’Œå±•ç¤ºæ„å›¾ï¼Œæ¨èåˆé€‚çš„å›¾è¡¨ç±»å‹ï¼Œå¹¶å°†å­—æ®µæ˜ å°„åˆ°åˆé€‚çš„è§†è§‰é€šé“ä¸Šï¼Œå®ç°å›¾è¡¨çš„æ™ºèƒ½ç”Ÿæˆï¼Œä»è€Œé™ä½ç”¨æˆ·è¿›è¡Œæ•°æ®å¯è§†åŒ–çš„é—¨æ§›ã€‚


## generateChart
VMindçš„generateChartå‡½æ•°æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ æ™ºèƒ½ç”Ÿæˆå›¾è¡¨ã€‚è¿™ä¸ªå‡½æ•°éœ€è¦ä»¥ä¸‹å‡ ä¸ªå‚æ•°ï¼š
- userPrompt (string): ç”¨æˆ·çš„å¯è§†åŒ–æ„å›¾ï¼ˆä½ æƒ³ç”¨å›¾è¡¨å±•ç¤ºä»€ä¹ˆä¿¡æ¯ï¼‰
- fieldInfo (Array): æ•°æ®é›†ä¸­å­—æ®µçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å­—æ®µåç§°ï¼Œç±»å‹ç­‰
- dataset (Array): å›¾è¡¨ä¸­ä½¿ç”¨çš„åŸå§‹æ•°æ®é›†ï¼Œå¯ä»¥æ˜¯undefinedã€‚è‹¥datasetä¸ºundefinedï¼Œåˆ™ä¼šç”Ÿæˆä¸€ä¸ªspecæ¨¡æ¿ï¼Œåç»­å¯ä»¥è°ƒç”¨fillSpecTemplateWithDataå°†æ•°æ®å¡«å……åˆ°specæ¨¡æ¿ã€‚
- options: å¯é€‰ï¼Œé€‰é¡¹å‚æ•°ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š

  - chartTypeList (ChartType[]ï¼Œå¯é€‰): æ”¯æŒçš„å›¾è¡¨ç±»å‹åˆ—è¡¨ã€‚è‹¥ä¸ä¸ºundefinedï¼Œåˆ™ä¼šä»è¯¥åˆ—è¡¨æŒ‡å®šçš„å›¾è¡¨ç±»å‹ä¸­é€‰æ‹©ç”Ÿæˆã€‚
  - enableDataQuery (boolean, å¯é€‰): å†³å®šæ˜¯å¦åœ¨å›¾è¡¨ç”Ÿæˆè¿‡ç¨‹ä¸­å¼€å¯æ•°æ®èšåˆ
  - colorPalette (Array<string>, å¯é€‰): ç”¨äºè®¾ç½®å›¾è¡¨çš„è°ƒè‰²æ¿
  - animationDuration (number, å¯é€‰): ç”¨äºè®¾ç½®å›¾è¡¨åŠ¨ç”»çš„æ’­æ”¾æŒç»­æ—¶é—´

è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ª[VChartå›¾è¡¨spec](https://www.visactor.io/vchart/guide/tutorial_docs/Basic/A_Basic_Spec)ã€‚

ğŸ“¢ **è¯·æ³¨æ„ï¼šgenerateChartæ–¹æ³•ä¼šå°†userPromptå’ŒfieldInfoä¼ é€’ç»™å¤§è¯­è¨€æ¨¡å‹ç”¨äºç”Ÿæˆå›¾è¡¨ï¼Œä½†æ˜¯datasetä¸­çš„è¯¦ç»†æ•°æ®å¹¶ä¸ä¼šè¢«ä¼ é€’ã€‚**

åœ¨ç”Ÿæˆå›¾è¡¨çš„è¿‡ç¨‹ä¸­ï¼ŒVMindé¦–å…ˆä¼šåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼Œæ ¹æ®userPromptå’ŒfieldInfoï¼Œæ¨èä¸€ä¸ªé€‚åˆçš„å›¾è¡¨ç±»å‹ã€‚ç„¶åï¼Œå®ƒä¼šå°†fieldInfoä¸­çš„å­—æ®µæ˜ å°„åˆ°å›¾è¡¨çš„xè½´ã€yè½´ã€é¢œè‰²ã€å°ºå¯¸ç­‰è§†è§‰é€šé“ä¸Šã€‚

VMindé»˜è®¤ä¼šä¸ºç”Ÿæˆçš„å›¾è¡¨æ·»åŠ å…¥åœºåŠ¨ç”»ï¼Œå› æ­¤å®ƒè¿˜ä¼šè¿”å›å›¾è¡¨åŠ¨ç”»çš„æ—¶é•¿timeã€‚å¦‚æœä½ ä¸æƒ³è¦å›¾è¡¨åŠ¨ç”»ï¼Œå¯ä»¥å°†spec.animationè®¾ä¸ºfalseã€‚

ä½ å¯ä»¥åœ¨[VChartåŠ¨ç”»æ•™ç¨‹](https://www.visactor.io/vchart/guide/tutorial_docs/Animation/Animation_Types)ä¸­äº†è§£æ›´å¤šå…³äºå›¾è¡¨åŠ¨ç”»çš„ä¿¡æ¯ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨generateChartç”Ÿæˆå›¾è¡¨çš„ä¾‹å­ï¼š
```ts
import VMind from '@visactor/vmind';

const vmind = new VMind(options)
const userPrompt = 'show me the changes in sales rankings of various car brand';
const { spec, time } = await vmind.generateChart(userPrompt, fieldInfo, dataset);
```
ä½ å¯ä»¥åœ¨[åˆ›å»ºVMindå®ä¾‹](./Create_VMind_Instance)ä¸­äº†è§£å¦‚ä½•åˆ›å»ºVMindå®ä¾‹å’Œoptionsä¸­çš„å‚æ•°ä¿¡æ¯ï¼Œåœ¨[æ•°æ®æ ¼å¼ä¸æ•°æ®å¤„ç†](./Data_Process)ç« èŠ‚ä¸­è·å–æ›´å¤šå…³äºfieldInfoå’Œdatasetçš„ç›¸å…³ä¿¡æ¯ã€‚

ä½ å¯ä»¥å¯¹specè¿›è¡ŒäºŒæ¬¡åŠ å·¥ï¼Œæ”¹å˜å›¾è¡¨çš„é¢œè‰²ã€æ ·å¼ã€åŠ¨ç”»ç­‰é…ç½®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ¸²æŸ“VChartå›¾è¡¨ï¼š

```html
<body>
<!-- Prepare a DOM with size (width and height) for vchart, of course you can also specify it in the spec configuration -->
<div id="chart" style="width: 600px;height:400px;"></div>
</body>
```
```ts
import VChart from '@visactor/vchart';

// Create vchart instance
const vchart = new VChart(spec, { dom: 'chart' });
// Render Chart
vchart.renderSync();
```

åœ¨userPromptä¸­ï¼Œä½ å¯ä»¥æè¿°ä½ æƒ³å±•ç¤ºçš„å†…å®¹ï¼Œè¿™å°†ä½œä¸ºå¤§è¯­è¨€æ¨¡å‹æ¨èå›¾è¡¨ç±»å‹æ—¶çš„ä¾æ®ï¼›ä½ ä¹Ÿå¯ä»¥é€šè¿‡options.colorPaletteä¼ å…¥ä¸€ä¸ªé¢œè‰²å­—ç¬¦ä¸²æ•°ç»„ï¼Œå®ƒå°†è¢«ç”¨ä½œå›¾è¡¨çš„é¢œè‰²ä¸»é¢˜ã€‚



## å‚æ•°è¯¦è§£
### userPrompt
`userPrompt`å‚æ•°æ˜¯ä½ ç”¨æ¥æè¿°ä½ æƒ³è¦ç”¨æ•°æ®é›†å±•ç¤ºçš„å†…å®¹ï¼Œè¿™ä¸ªæè¿°ä¼šè¢«ä¼ é€’ç»™å¤§è¯­è¨€æ¨¡å‹ï¼Œä½œä¸ºç”Ÿæˆå›¾è¡¨æ—¶çš„å‚è€ƒä¾æ®ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ‰‹æœºå“ç‰Œé”€å”®æ•°æ®é›†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
```json
[
    {
        "å“ç‰Œåç§°": "Apple",
        "å¸‚åœºä»½é¢": 0.5,
        "å¹³å‡ä»·æ ¼": 7068,
        "å‡€åˆ©æ¶¦": 314531
    },
    {
        "å“ç‰Œåç§°": "Samsung",
        "å¸‚åœºä»½é¢": 0.2,
        "å¹³å‡ä»·æ ¼": 6059,
        "å‡€åˆ©æ¶¦": 362345
    },
    {
        "å“ç‰Œåç§°": "Vivo",
        "å¸‚åœºä»½é¢": 0.05,
        "å¹³å‡ä»·æ ¼": 3406,
        "å‡€åˆ©æ¶¦": 234512
    },
    {
        "å“ç‰Œåç§°": "Nokia",
        "å¸‚åœºä»½é¢": 0.01,
        "å¹³å‡ä»·æ ¼": 1064,
        "å‡€åˆ©æ¶¦": -1345
    },
    {
        "å“ç‰Œåç§°": "Xiaomi",
        "å¸‚åœºä»½é¢": 0.1,
        "å¹³å‡ä»·æ ¼": 4087,
        "å‡€åˆ©æ¶¦": 131345
    }
]
```
ä½ å¯ä»¥å°†`userPrompt`è®¾ç½®ä¸º`å±•ç¤ºå„å“ç‰Œå¸‚åœºå æœ‰ç‡`ï¼Œç„¶åè°ƒç”¨`generateChart`æ–¹æ³•ï¼Œè¿™æ ·å°±ä¼šç”Ÿæˆä¸€ä¸ªé¥¼å›¾ï¼š

![](https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/vmind/tutorials/VMind_pie.png)


ä½ ä¹Ÿå¯ä»¥è®¾ç½®`userPrompt`ä¸º`å±•ç¤ºå„å“ç‰Œçš„å‡€åˆ©æ¶¦`ï¼Œè¿™æ ·ç”Ÿæˆçš„å›¾è¡¨å°±ä¼šå±•ç¤ºå„å“ç‰Œçš„å‡€åˆ©æ¶¦æƒ…å†µï¼š

![](https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/vmind/tutorials/VMind_column.png)


ä½ è¿˜å¯ä»¥æŒ‡å®šå›¾è¡¨ç±»å‹ï¼Œæ¯”å¦‚è®¾ç½®`userPrompt`ä¸º`å±•ç¤ºå„å“ç‰Œçš„å‡€åˆ©æ¶¦ï¼Œç”¨æŠ˜çº¿å›¾`ï¼Œè¿™æ ·ç”Ÿæˆçš„å›¾è¡¨å°±ä¼šæ˜¯ä¸€ä¸ªæŠ˜çº¿å›¾ï¼š

![](https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/vmind/tutorials/VMind_line.png)


ä½ ç”šè‡³å¯ä»¥æŒ‡å®šå›¾è¡¨è§†è§‰é€šé“çš„æ˜ å°„ï¼Œä¾‹å¦‚è®¾ç½®`userPrompt`ä¸º`ä½¿ç”¨å¹³å‡ä»·æ ¼åšxè½´ï¼Œå‡€åˆ©æ¶¦åšyè½´ï¼Œå“ç‰Œåç§°ç”¨ä½œé¢œè‰²ï¼Œå¸‚åœºä»½é¢åšç‚¹çš„å¤§å°ï¼Œç»˜åˆ¶æ•£ç‚¹å›¾`ï¼š

![](https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/vmind/tutorials/VMind_scatter.png)


VMindçš„å¼ºå¤§ä¹‹å¤„åœ¨äºï¼Œä½ åªéœ€è¦ç”¨ä¸€å¥è¯æè¿°ä½ çš„éœ€æ±‚ï¼Œå°±å¯ä»¥ç”Ÿæˆä½ æƒ³è¦çš„å›¾è¡¨ï¼Œè€Œæ— éœ€å…³å¿ƒå›¾è¡¨ç”Ÿæˆçš„ç»†èŠ‚ã€‚è¿™å¾—ç›Šäºå¤§è¯­è¨€æ¨¡å‹æ‰€æŒæ¡çš„å…¬åŸŸçŸ¥è¯†ã€‚

ä¾‹å¦‚ï¼Œå¯¹äºä¸‹é¢è¿™ä»½csvæ•°æ®ï¼š
```json
æ—¶é—´,ç”·-æ—©é¤,å¥³-æ—©é¤
å‘¨ä¸€,15,22
å‘¨äºŒ,12,10
å‘¨ä¸‰,15,20
å‘¨å››,10,12
å‘¨äº”,13,15
å‘¨å…­,10,15
å‘¨æ—¥,12,14
```

å¦‚æœä½ è¾“å…¥çš„å±•ç¤ºæ„å›¾ä¸º`å±•ç¤ºç”·å¥³æ—©é¤é¥­é‡ä¸åŒ`ï¼Œé‚£ä¹ˆå°±ä¼šç”Ÿæˆä¸€ä¸ªåŒè½´å›¾ï¼š

![](https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/vmind/tutorials/VMind_dual_axis.png)


VMindè¿˜æ”¯æŒ[åŠ¨æ€æ¡å½¢å›¾ï¼ˆranking barï¼‰](https://www.visactor.io/vchart/demo/storytelling/ranking-bar)ï¼Œè¿™æ˜¯ä¸€ç§å™äº‹å›¾è¡¨ï¼Œå®ƒé€šè¿‡ä¸æ–­å˜åŒ–çš„æŸ±çŠ¶å›¾å±•ç¤ºä¸åŒæ—¶é—´èŠ‚ç‚¹ä¸åŒç§ç±»çš„æ•°æ®åœ¨æ’åä¸Šçš„å˜åŒ–ã€‚ä¸ºäº†ç”Ÿæˆä¸€ä¸ªåŠ¨æ€æ¡å½¢å›¾ï¼Œæ•°æ®ä¸­å¿…é¡»æœ‰ä¸€ä¸ªæ—¶é—´å­—æ®µã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸‹é¢çš„æ•°æ®é›†å’Œå­—æ®µä¿¡æ¯ï¼š
```json
[
    {
        "country": "USA",
        "continent": "North America",
        "GDP": 239270,
        "year": 1973
    },
    {
        "country": "India",
        "continent": "Asia",
        "GDP": 22960,
        "year": 1973
    },
    {
        "country": "South Korea",
        "continent": "Asia",
        "GDP": 7870,
        "year": 1973
    },
    {
        "country": "Indonesia",
        "continent": "Asia",
        "GDP": 10980,
        "year": 1973
    },
    {
        "country": "Saudi Arabia",
        "continent": "Asia",
        "GDP": 23760,
        "year": 1973
    },
    {
        "country": "Thailand",
        "continent": "Asia",
        "GDP": 4130,
        "year": 1973
    },
    {
        "country": "Philippines",
        "continent": "Asia",
        "GDP": 5660,
        "year": 1974
    },
    {
        "country": "Malaysia",
        "continent": "Asia",
        "GDP": 2780,
        "year": 1974
    },
    {
        "country": "United Kingdom",
        "continent": "Europe",
        "GDP": 114750,
        "year": 1974,
    }
    ...... //å®Œæ•´æ•°æ®é›†è¯·è§VMindä»“åº“ä¸­çš„packages/vmind/__tests__/browser/src/constants/mockData.tsæ–‡ä»¶
]
```
```json
[
    {
        "fieldName": "country",
        "type": "string",
        "role": "dimension"
    },
    {
        "fieldName": "continent",
        "type": "string",
        "role": "dimension"
    },
    {
        "fieldName": "GDP",
        "type": "float",
        "role": "measure"
    },
    {
        "fieldName": "year",
        "type": "date",
        "role": "measure"
    }
]
```

å¦‚æœ`userPrompt`ä¸º`Show me the change of the GDP rankings of each country`ï¼Œé‚£ä¹ˆå°±ä¼šç”Ÿæˆä¸€ä¸ªåŠ¨æ€æ¡å½¢å›¾ï¼š
![](https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/vmind/tutorials/VMind_dynamic_bar.gif)


ä¸ºäº†è®©VMindç”Ÿæˆç¬¦åˆé¢„æœŸçš„å›¾è¡¨ï¼Œä½ éœ€è¦åœ¨`userPrompt`ä¸­å°½å¯èƒ½æ¸…æ™°åœ°æè¿°ä½ çš„å±•ç¤ºæ„å›¾å’Œç›®çš„ã€‚æ­¤å¤–ï¼Œä½ è¿˜éœ€è¦ç¡®ä¿æ•°æ®é›†çš„å­—æ®µåç§°å…·æœ‰ä¸€å®šçš„è¯­ä¹‰ï¼Œæˆ–è€…åœ¨å­—æ®µä¿¡æ¯ä¸­æ·»åŠ å­—æ®µæè¿°ï¼Œå…·ä½“è¯·å‚è§[æ•°æ®æ ¼å¼ä¸æ•°æ®å¤„ç†](./Data_Process)ç« èŠ‚ã€‚

### options
#### enableDataQuery: æ˜¯å¦å¼€å¯æ™ºèƒ½æ•°æ®èšåˆ
åœ¨[æ•°æ®èšåˆ](./Data_Aggregation)ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»è¿‡ï¼Œä¸ºäº†æ»¡è¶³`å±•ç¤ºé”€å”®é¢æœ€å¤šçš„10ä¸ªéƒ¨é—¨`æˆ–`å±•ç¤ºåŒ—æ–¹åŒºåŸŸå„å•†å“çš„é”€å”®é¢`ç­‰å›¾è¡¨å±•ç¤ºéœ€æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå¯¹æ•°æ®è¿›è¡Œèšåˆï¼Œç„¶åå†ç”Ÿæˆå›¾è¡¨ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ`generateChart`å‡½æ•°ä¼šåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨ä¸€æ¬¡`dataQuery`ï¼Œä½¿ç”¨ç›¸åŒçš„`userPrompt`ï¼Œ`fieldInfo`å’Œ`dataset`å¯¹æ•°æ®è¿›è¡Œèšåˆï¼Œç„¶åä½¿ç”¨èšåˆåçš„æ•°æ®å®Œæˆåç»­çš„å›¾è¡¨ç”Ÿæˆæ­¥éª¤ã€‚

ç„¶è€Œï¼Œå¦‚æœä½ ç¡®å®šä½ çš„æ•°æ®æ— éœ€è¿›è¡Œè¿›ä¸€æ­¥çš„èšåˆã€ç­›é€‰å’Œæ’åºå°±å¯ä»¥æ»¡è¶³ç”¨æˆ·çš„å›¾è¡¨å±•ç¤ºéœ€æ±‚ï¼Œä½ å¯ä»¥é€šè¿‡å°†`enableDataQuery`è®¾ç½®ä¸º`false`æ¥å…³é—­è¿™ä¸€æµç¨‹ï¼š
```ts
import VMind from '@visactor/vmind';

const vmind = new VMind(options)
const userPrompt = 'show me the changes in sales rankings of various car brand';
const { spec, time } = await vmind.generateChart(userPrompt, fieldInfo, dataset, {enableDataQuery: false}); //å°†enableDataQueryè®¾ç½®ä¸ºfalseï¼Œå…³é—­æ•°æ®èšåˆ
```
è¿™æ ·åšå¯ä»¥å‡å°‘ä¸€æ¬¡è°ƒç”¨å¤§æ¨¡å‹çš„è¿‡ç¨‹ï¼Œé™ä½tokenæ¶ˆè€—ï¼Œæé«˜å›¾è¡¨ç”Ÿæˆé€Ÿåº¦ã€‚å…³äºVMindæ•°æ®èšåˆçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ[æ•°æ®èšåˆ](./Data_Aggregation)ç« èŠ‚ã€‚

#### chartTypeList: é™åˆ¶VMindç”Ÿæˆçš„å›¾è¡¨ç±»å‹
VMindç›®å‰æ”¯æŒVChartä¸­å¸¸è§çš„13ç§å›¾è¡¨ç±»å‹ï¼š
- [æŸ±çŠ¶å›¾](https://www.visactor.io/vchart/demo/bar-chart/basic-column)
- [æŠ˜çº¿å›¾](hhttps://www.visactor.io/vchart/demo/line-chart/basic-line)
- [é¥¼å›¾](https://www.visactor.io/vchart/demo/pie-chart/basic-pie)
- [æ•£ç‚¹å›¾](https://www.visactor.io/vchart/demo/scatter-chart/basic-scatter)
- [åŒè½´å›¾](https://www.visactor.io/vchart/demo/combination/dual-axis)
- [è¯äº‘](https://www.visactor.io/vchart/demo/word-cloud-chart/word-cloud-basic)
- [ç«ç‘°å›¾](https://www.visactor.io/vchart/demo/rose-chart/basic-rose)
- [é›·è¾¾å›¾](https://www.visactor.io/vchart/demo/radar-chart/basic-radar)
- [ç®±å‹å›¾](https://www.visactor.io/vchart/demo/box-plot/basic-box-plot)
- [æ¼æ–—å›¾](https://www.visactor.io/vchart/demo/funnel-chart/basic-funnel)
- [æ¡‘åŸºå›¾](https://www.visactor.io/vchart/demo/sankey-chart/basic-sankey)
- [ç€‘å¸ƒå›¾](https://www.visactor.io/vchart/demo/waterfall/basic-waterfall)
- [åŠ¨æ€æ¡å½¢å›¾ï¼ˆranking barï¼‰](https://www.visactor.io/vchart/demo/storytelling/ranking-bar)

æ ¹æ®`userPrompt`å’Œ`fieldInfo`çš„ä¸åŒï¼Œè¿™äº›å›¾è¡¨ç±»å‹éƒ½æœ‰å¯èƒ½è¢«å¤§è¯­è¨€æ¨¡å‹æ¨èã€‚
å¦‚æœä½ æœ‰æ–°çš„å›¾è¡¨ç±»å‹éœ€æ±‚ï¼Œæ¬¢è¿åœ¨æˆ‘ä»¬çš„[Githubé¡µé¢](https://github.com/VisActor/VMind/issues/new/choose)æå‡ºã€‚

å¦‚æœä½ æƒ³é™åˆ¶VMindåœ¨å›¾è¡¨æ™ºèƒ½ç”Ÿæˆä¸­ç”Ÿæˆçš„å›¾è¡¨ç±»å‹ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®options.chartTypeListæ•°ç»„ï¼š
```typescript
import VMind, { ChartType } from '@visactor/vmind';

//é™åˆ¶ç”Ÿæˆä»¥ä¸‹å‡ ç§å›¾è¡¨ç±»å‹ï¼šæŸ±çŠ¶å›¾ï¼ŒæŠ˜çº¿å›¾ï¼Œæ•£ç‚¹å›¾ï¼Œé¥¼å›¾ï¼Œè¯äº‘
const chartTypeList = [
  ChartType.BarChart,
  ChartType.LineChart,
  ChartType.ScatterPlot,
  ChartType.PieChart,
  ChartType.WordCloud
  ]

const { spec } = await vmind.generateChart(userPrompt, fieldInfo, dataset, {chartTypeList});
```
åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒVMindå°†ä¼šåœ¨æŸ±çŠ¶å›¾ï¼ŒæŠ˜çº¿å›¾ï¼Œæ•£ç‚¹å›¾ï¼Œé¥¼å›¾ï¼Œè¯äº‘ä¸­é€‰æ‹©å›¾è¡¨ç±»å‹è¿›è¡Œç”Ÿæˆã€‚è‹¥ç”¨æˆ·åœ¨userPromptå¼ºè¡ŒæŒ‡å®šäº†ä¸æ”¯æŒçš„å›¾è¡¨ç±»å‹ï¼Œå°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚

#### colorPalette: è®¾ç½®å›¾è¡¨è‰²æ¿
å¯ä»¥é€šè¿‡å°†options.colorPaletteè®¾ç½®ä¸ºä¸€ä¸ªé¢œè‰²æ•°ç»„æ¥æŒ‡å®šå›¾è¡¨æ‰€ä½¿ç”¨çš„è‰²æ¿:
```typescript
//è®¾ç½®è‡ªå®šä¹‰è‰²æ¿
const colorPalette = ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd', '#8c564b', '#e377c2', '#7f7f7f', '#bcbd22', '#17becf'];

const { spec } = await vmind.generateChart(userPrompt, fieldInfo, dataset, {colorPalette});
```
åŒæ—¶ï¼ŒVMindè¿˜å†…ç½®äº†[Arco-design](https://www.visactor.io/vchart/theme/demo/arco)ï¼Œ[Semi-design](https://www.visactor.io/vchart/theme/demo/semi)ï¼Œ[æºåŠ›è®¾è®¡](https://www.visactor.io/vchart/theme/demo/arco)ç­‰å¤šå¥—ä¸»é¢˜è‰²æ¿ï¼š
```typescript
import VMind, {ArcoTheme} from '@visactor/vmind';

//ä½¿ç”¨Arco-designè‰²æ¿
const {spec} = await vmind.generateChart(describe, finalFieldInfo, finalDataset, {
  colorPalette: ArcoTheme.colorScheme
});
```

```typescript
import VMind, { VeOThemeFinance } from '@visactor/vmind';

//ä½¿ç”¨æºåŠ›è®¾è®¡-é‡‘èè¡Œä¸šä¸»é¢˜è‰²æ¿
const {spec} = await vmind.generateChart(describe, finalFieldInfo, finalDataset, {
  colorPalette: VeOThemeFinance.colorScheme
});
```
æ›´å¤šä¸»é¢˜è‰²æ¿å‚è§[å›¾è¡¨æ™ºèƒ½ç”ŸæˆAPI](../../api/generateChart)


## è¿”å›å€¼è¯¦è§£
vmind.generateChartæ–¹æ³•è¿”å›å€¼ç±»å‹å®šä¹‰å¦‚ä¸‹ï¼š

```typescript
interface GenerateChartResult {
  spec: Record<string, any>;
  chartType: Record<string, string | string[]>;
  cell: Cell;
  chartSource: string;
  usage: any;
  time: {
    totalTime : number;
    frameArr: number[];
  };
}
```

### spec
ç”Ÿæˆçš„VChartå›¾è¡¨specã€‚è‹¥datasetä¸ºç©ºï¼Œåˆ™ä¸ºä¸åŒ…å«æ•°æ®çš„specæ¨¡æ¿

### chartType
ç”Ÿæˆçš„å›¾è¡¨ç±»å‹ï¼Œå‚è§æœ¬æ•™ç¨‹çš„`chartTypeList: é™åˆ¶VMindç”Ÿæˆçš„å›¾è¡¨ç±»å‹`ç« èŠ‚

### cell
å›¾è¡¨ä¸­çš„å­—æ®µæ˜ å°„ï¼Œæè¿°æ•°æ®é›†ä¸­çš„å­—æ®µå¦‚ä½•æ˜ å°„åˆ°å›¾è¡¨çš„å„ä¸ªè§†è§‰é€šé“ä¸Šã€‚è§†è§‰é€šé“ï¼ˆVisual Channelï¼‰æ˜¯æ•°æ®å¯è§†åŒ–ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œç”¨äºæè¿°å¦‚ä½•å°†æ•°æ®çš„å±æ€§æ˜ å°„åˆ°è§†è§‰å…ƒç´ ï¼Œä»¥ä¾¿äººç±»ç›´è§‚ç†è§£ã€‚å¸¸è§çš„è§†è§‰é€šé“åŒ…æ‹¬é¢œè‰²ã€å½¢çŠ¶ã€å¤§å°ã€æ–¹ä½ã€ä½ç½®ç­‰ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡è§†è§‰é€šé“ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®é›†ä¸­çš„ä¸åŒç±»åˆ«æ˜ å°„åˆ°ä¸åŒé¢œè‰²çš„å›¾å½¢ï¼Œæˆ–è€…å°†æ•°å€¼å¤§å°æ˜ å°„åˆ°å›¾å½¢çš„å¤§å°ï¼Œä»è€Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿç†è§£æ•°æ®çš„ç‰¹æ€§å’Œåˆ†å¸ƒã€‚

ä¸‹é¢å±•ç¤ºä¸€ä¸ªå›¾è¡¨ç”Ÿæˆçš„ä¾‹å­ï¼š
```typescript
import VMind from '@visactor/vmind';

const vmind = new VMind(options)

const userPrompt = 'å±•ç¤ºä¸åŒåœ°åŒºå•†å“é”€å”®é¢';
const fieldInfo=[
    {
        "fieldName": "å•†å“åç§°",
        "type": "string",
        "role": "dimension",
        "domain": [
            "å¯ä¹",
            "é›ªç¢§",
            "èŠ¬è¾¾",
            "é†’ç›®"
        ]
    },
    {
        "fieldName": "region",
        "type": "string",
        "role": "dimension",
        "domain": [
            "south",
            "east",
            "west",
            "north"
        ]
    },
    {
        "fieldName": "é”€å”®é¢",
        "type": "int",
        "role": "measure",
        "domain": [
            28,
            2350
        ]
    }
]

const dataset=[
    {
        "å•†å“åç§°": "Coke",
        "region": "south",
        "é”€å”®é¢": 2350
    },
    {
        "å•†å“åç§°": "Coke",
        "region": "east",
        "é”€å”®é¢": 1027
    },
    {
        "å•†å“åç§°": "Coke",
        "region": "west",
        "é”€å”®é¢": 1027
    },
    {
        "å•†å“åç§°": "Coke",
        "region": "north",
        "é”€å”®é¢": 1027
    },
    ...
]
const { chartType, spec, cell } = await vmind.generateChart(userPrompt, fieldInfo, dataset);
console.log(cell)
```
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç”Ÿæˆäº†ä¸€ä¸ªæŸ±çŠ¶å›¾ï¼š

![æŸ±çŠ¶å›¾](https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/vmind/tutorials/VMind_barchart.png)

å…¶cellå¦‚ä¸‹ï¼š

```json
{
  "x": "å•†å“åç§°",
  "y": "é”€å”®é¢",
  "color": "region"
}
```

è¿™è¡¨ç¤ºVMindå°†å•†å“åç§°å­—æ®µæ˜ å°„åˆ°å›¾è¡¨çš„xè½´ï¼Œé”€å”®é¢å­—æ®µæ˜ å°„åˆ°yè½´ï¼Œregionå­—æ®µæ˜ å°„åˆ°æŸ±å­çš„é¢œè‰²ä¸Šã€‚

### chartSource
å›¾è¡¨ç”Ÿæˆæ¥æºã€‚è‹¥æˆåŠŸä½¿ç”¨LLMç”Ÿæˆå›¾è¡¨ï¼Œåˆ™ä¸ºå…·ä½“çš„æ¨¡å‹åï¼›è‹¥æœ€ç»ˆä½¿ç”¨[åŸºäºè§„åˆ™çš„å›¾è¡¨ç”Ÿæˆ](../guide/Basic_Tutorial/Chart_Advisor)ï¼Œåˆ™ä¸ºchart-advisor

## ç”Ÿæˆspecæ¨¡æ¿
åœ¨æ²¡æœ‰å…·ä½“æ•°æ®é›†ã€ä»…æœ‰æ•°æ®å­—æ®µçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯èƒ½éœ€è¦ç”Ÿæˆå›¾è¡¨ã€‚æ¯”å¦‚ï¼Œåœ¨è¿›è¡ŒæŸ¥è¯¢ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æ•°æ®é›†ä¸­çš„å­—æ®µå…ˆç”Ÿæˆä¸€ä¸ªå›¾è¡¨ï¼Œä¹‹åä¾æ®å›¾è¡¨çš„ç±»å‹å’Œå«æœ‰çš„å­—æ®µæ‰§è¡Œç›¸å…³æŸ¥è¯¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒç”¨generateChartæ–¹æ³•æ—¶æ— éœ€ä¼ å…¥å…·ä½“çš„æ•°æ®é›†ï¼Œè€Œæ˜¯å…ˆäº§ç”Ÿä¸€ä¸ªspecæ¨¡æ¿ï¼Œåç»­å†é€šè¿‡fillSpecWithDataæ–¹æ³•è·å–æœ€ç»ˆç”¨äºå›¾è¡¨æ¸²æŸ“çš„specã€‚

ä¸‹é¢å±•ç¤ºå¦‚ä½•ä½¿ç”¨generateChartæ–¹æ³•ç”Ÿæˆä¸€ä¸ªspecæ¨¡æ¿ï¼š

```typescript
import VMind from '@visactor/vmind';

const vmind = new VMind(options)

const userPrompt = 'å±•ç¤ºä¸åŒåœ°åŒºå•†å“é”€å”®é¢';
const fieldInfo=[
    {
        "fieldName": "å•†å“åç§°",
        "type": "string",
        "role": "dimension",
        "domain": [
            "å¯ä¹",
            "é›ªç¢§",
            "èŠ¬è¾¾",
            "é†’ç›®"
        ]
    },
    {
        "fieldName": "region",
        "type": "string",
        "role": "dimension",
        "domain": [
            "south",
            "east",
            "west",
            "north"
        ]
    },
    {
        "fieldName": "é”€å”®é¢",
        "type": "int",
        "role": "measure",
        "domain": [
            28,
            2350
        ]
    }
]
//ä¸ä¼ å…¥datasetï¼Œç”Ÿæˆspecæ¨¡æ¿
const { chartType, spec, cell } = await vmind.generateChart(userPrompt, fieldInfo);
```
æ­¤æ—¶æˆ‘ä»¬å·²ç»å¾—åˆ°äº†VMindç”Ÿæˆçš„å›¾è¡¨specã€å­—æ®µæ˜ å°„cellå’Œå›¾è¡¨ç±»å‹chartTypeã€‚éšåæˆ‘ä»¬è°ƒç”¨fillSpecWithDataæ–¹æ³•ï¼Œå‘specæ¨¡æ¿ä¸­å¡«å…¥æ•°æ®ï¼š

```typescript
//å‘æ¨¡æ¿ä¸­å¡«å…¥æ•°æ®
const dataset=[
    {
        "å•†å“åç§°": "Coke",
        "region": "south",
        "é”€å”®é¢": 2350
    },
    {
        "å•†å“åç§°": "Coke",
        "region": "east",
        "é”€å”®é¢": 1027
    },
    {
        "å•†å“åç§°": "Coke",
        "region": "west",
        "é”€å”®é¢": 1027
    },
    {
        "å•†å“åç§°": "Coke",
        "region": "north",
        "é”€å”®é¢": 1027
    },
    ...
]

const spec = vmind.fillSpecWithData(spec, dataset, cell, fieldInfo)
```
æœ€ç»ˆç”Ÿæˆçš„specå¯ä»¥ç”¨äºæ¸²æŸ“VChartå›¾è¡¨ã€‚
